@using DockerGen.Container
@using System.Text
<ul class="instruction-list" ondragover="event.preventDefault();">
    @foreach (var instruction in Instructions)
    {
        if (instruction is FromInstruction fromImage)
        {
            <FromImage Instruction="fromImage"></FromImage>
        }
        else if (instruction is RunInstruction runCommand)
        {
            <RunCommand Instruction="runCommand"></RunCommand>
        }
        else if (instruction is CopyInstruction copyFiles)
        {
            <CopyFiles Instruction="copyFiles" BuildStages="@GetBuildStageNames()"></CopyFiles>
        }
        else if (instruction is WorkDirInstruction workdir)
        {
            <WorkDir Instruction="workdir"></WorkDir>
        }
        else if (instruction is UserInstruction user)
        {
            <User Instruction="user"></User>
        }
        else if (instruction is ExposeInstruction exposed)
        {
            <Expose Instruction="exposed"></Expose>
        }
        else if (instruction is DynamicRecipe recipe)
        {
            <InstructionRecipe Recipe="recipe"></InstructionRecipe>
        }
        else
        {
            <NotImplemented Instruction="instruction"></NotImplemented>
        }
    }
</ul>
